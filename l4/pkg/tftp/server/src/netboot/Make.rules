# -*- Makefile -*-

TARGET		= libnetboot.a
NOTARGETSTOINSTALL = y

include ../../Makeconf
Makefile.inc: ../../Makeconf

SRC_C		= fsys_tftp.c grub.c gunzip.c netboot.c timer.c

ifeq ($(CONFIG_OSHKOSH),y)
SRC_C		+= oshkosh.c
endif
ifeq ($(CONFIG_EEPRO100),y)
SRC_C		+= eepro100.c
endif
ifeq ($(CONFIG_PCNET32),y)
SRC_C		+= pcnet32.c
endif
ifeq ($(CONFIG_TULIP),y)
SRC_C		+= tulip.c
endif
ifeq ($(CONFIG_3C595),y)
SRC_C		+= 3c595.c
endif
ifeq ($(CONFIG_3C90X),y)
SRC_C		+= 3c90x.c
endif
ifeq ($(CONFIG_3C509),y)
SRC_C		+= 3c509.c
endif
ifeq ($(CONFIG_RTL8139),y)
SRC_C		+= rtl8139.c
endif

ifeq ($(CONFIG_NE2000),y)
OBJS 		+= nepci.o ne.o
CPPFLAGS_nepci.c = -DINCLUDE_NS8390
CPPFLAGS_ne.c	 = -DINCLUDE_NE -DNE_SCAN=0x280,0x300,0x320,0x340

nepci.c: ns8390.c
	$(VERBOSE)$(LN) -s $< $@

ne.c: ns8390.c
	$(VERBOSE)$(LN) -s $< $@

PRIVATE_INCDIR	= ..

endif
