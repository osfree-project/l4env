# -*- Makefile -*-

PKGDIR		?= ../..
L4DIR		?= $(PKGDIR)/../..

DEFAULT_RELOC	= 0x01000000

SRC_C		= main.c
LIBS		= -lgeneric_fprov-server \
		  -L../netboot/OBJ-$(SYSTEM) -lnetboot
PRIVATE_INCDIR	= $(OBJ_DIR) $(OBJ_DIR)/netboot

DEFINES		= -DWITHOUT_LIBC_STUBS

all::
include $(OBJ_DIR)/Makeconf
Makefile.inc: $(OBJ_DIR)/Makeconf

ifeq ($(CONFIG_OSHKOSH),y)
TARGET		= tftp.oshkosh
endif
ifeq ($(CONFIG_ORE),y)
TARGET		= tftp.ore
endif
ifeq ($(CONFIG_REAL_HW),y)
TARGET		= tftp
endif
ifeq ($(CONFIG_PCI),y)
LIBS		+= -lpci -lio
endif
ifeq ($(CONFIG_OSHKOSH),y)
LIBS		+= -loshkoshnicdrv -ldsi
endif
ifeq ($(CONFIG_ORE),y)
LIBS		+= -lore
endif
